<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Virtual auroras</title>
    <meta name="description" content="Sky — A-Frame">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
    <script src="https://rawgit.com/ngokevin/aframe-text-component/master/dist/aframe-text-component.min.js"></script>

    <script src="https://rawgit.com/mayognaise/aframe-video-shader/master/dist/aframe-vid-shader.min.js"></script>
</head>
<body>

    <a-scene>
        <!-- assets -->
        <a-assets>
            <video id="bbb" src="Assets/01_EQ_AUR_milkywaystarsbor_iss_20120123HD_web.mp4"></video>
            <a-mixin id="cube" geometry="primitive: box"></a-mixin>
            <a-mixin id="cube-hovered" material="color: white"></a-mixin>
            <a-mixin id="cube-selected" material="color: cyan"></a-mixin>
            <a-mixin id="red" material="color: red"></a-mixin>
            <a-mixin id="green" material="color: green"></a-mixin>
            <a-mixin id="blue" material="color: blue"></a-mixin>
            <a-mixin id="yellow" material="color: yellow"></a-mixin>
            <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
        </a-assets>

        <a-entity position="0 2.2 4">
            <a-entity camera look-controls wasd-controls>
                <a-entity position="0 0 -3"
                          geometry="primitive: ring; radiusOuter: 0.30;
                          radiusInner: 0.20;"
                          material="color: cyan; shader: flat"
                          cursor="maxDistance: 50; fuse: true">
                    <a-animation begin="click" easing="ease-in" attribute="scale"
                                 fill="backwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
                    <a-animation begin="fusing" easing="ease-in" attribute="scale"
                                 fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="1500"></a-animation>
                </a-entity>
            </a-entity>
        </a-entity>
        <!-- bbb 0 2 -5 -->
        <!--<a-entity id="video" geometry="primitive:plane;width:10;height:6;depth:2;" rotation="0 0 0" position="0 2 -5" material="shader:video;src:#bbb;"></a-entity>-->

        <a-entity geometry="primitive: plane; depth: 0; height: 8; width: 10" position="0 2 -5" rotation="0 0 0" material="shader: flat; transparent: true;src: url(http://services.swpc.noaa.gov/images/animations/ovation-north/latest.png);"></a-entity>

        <a-entity id="quiz" geometry="primitive: plane; depth: 0; height: 0.7; width: 1.7" position="3 5 0" onclick="window.open('homevr.html',target='_self');" class="clickable" mixin="cube" rotation="0 0 0" scale="1 1 1" material="shader: flat; side: double;  transparent: true;src: url(img/btn_home.png);"></a-entity>
        <!--<a-entity id="img" geometry="primitive:plane;width:6;height:6;" rotation="0 0 0" position="-10 2 -5" material="shader: flat; side: single;  transparent: true;src: url(http://services.swpc.noaa.gov/images/animations/ovation-north/latest.png);"></a-entity>-->
        <!-- sky -->
        <a-sky color="black"></a-sky>

    </a-scene>

    <div class="buttons novr">
        <a href="javascript:togglePlayback()">toggle playback</a>
    </div>
    <div class="spacer"></div>
    <div class="spacer2"></div>

    <audio autoplay>
        <source src="Assets/EQ_Audio2_EnviablePebbles.mp3" type="audio/mpeg">
    </audio>

    <script src="../common.js"></script>
    <script type="text/javascript">

    function togglePlayback () {
      var el = document.getElementById('video')
      var material = Object.assign({}, el.getAttribute('material'))
      material.pause = !material.pause
      el.setAttribute('material', material)
    }
    </script>
</body>
</html>
